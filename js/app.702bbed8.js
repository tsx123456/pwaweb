(function(){"use strict";var t={199:function(t,e,n){var i=n(6848),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("mainPage")],1)},s=[],a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-mobile"},[t.lodingShow?e("div",{staticClass:"home"},[e("img",{staticClass:"container bottom-layout",attrs:{src:n(2241),alt:""},on:{click:t.dowload}}),e("img",{staticClass:"container head-layout",attrs:{src:n(7597),alt:""}}),e("div",{staticClass:"head-div"}),e("img",{staticClass:"container title-layout",attrs:{src:t.setting.header_img,alt:""}}),e("div",{staticClass:"container download-layout"},[e("img",{staticClass:"download-btn",attrs:{src:n(3481)},on:{click:t.dowload}})]),e("img",{staticClass:"container share-layout",attrs:{src:n(1463),alt:""}}),e("div",{staticClass:"container adv-layout"},[e("div",{staticClass:"horizontal-container"},t._l(t.setting.banner_img,function(t,n){return e("img",{key:n,staticClass:"adv-img",attrs:{src:t}})}),0)]),e("img",{staticClass:"container content-layout",attrs:{src:t.setting.pwa_comment_img,alt:""}}),e("div",{staticClass:"bottom-div"})]):t._e(),t.downloadShow?e("div",[e("div",{staticClass:"modal-overlay"}),e("div",{staticClass:"modal",attrs:{role:"dialog"}},[e("div",{staticClass:"model-body",staticStyle:{color:"white"}},[e("div",{staticClass:"top"}),e("div",{staticClass:"content"},[t._v("Rapid Instalar")]),t._m(0),e("div",{staticClass:"install-layout"},[e("div",{staticClass:"install-btn",staticStyle:{display:"none"}},[t._v("aberto")]),e("div",{staticClass:"install-btn",on:{click:function(e){return t.installApp()}}},[t._v("Instalar")]),t._m(1)])]),e("img",{staticClass:"down-img",attrs:{src:n(3759)}})])]):t._e(),t.iosDownloadShow?e("div",[e("div",{staticClass:"modal-overlay"}),e("div",{staticClass:"modal",attrs:{role:"dialog"}},[e("img",{staticClass:"ios_bg",attrs:{src:n(3829),alt:""}}),e("div",{staticClass:"close_btn",on:{click:function(e){t.iosDownloadShow=!1}}})])]):t._e(),t.lodingShow?t._e():e("div",{staticClass:"loading"},[e("span"),e("span"),e("span"),e("span"),e("span")]),t.addressShow?e("iframe",{staticClass:"fillIframe",style:`height: ${t.innerHeight}px;width: ${t.innerWidth}px;`,attrs:{src:t.setting.installation_address,frameborder:"0"}}):t._e()])},r=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"effective-layout"},[e("img",{staticClass:"safe-img",attrs:{src:n(6864)}}),e("span",[t._v("Effective")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"progress-layout",staticStyle:{display:"none"}},[e("div",{staticClass:"progress-container"},[e("div",{staticClass:"progress-bar",staticStyle:{width:"calc(0vw)"}}),e("div",{staticClass:"progress-txt"},[t._v("0%")])])])}],l=n(4373);let c="";const d=window.location.origin;c="https://game.ccfly.cc"===d||"http://localhost:3000"===d?"https://slot55xx3.ccfly.cc":d.replace("//game.","//");const u=l.A.create({baseURL:c,timeout:1e4});u.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t.headers["Content-Type"]="application/json",t},t=>Promise.reject(t)),u.interceptors.response.use(t=>{const e=t.data;return 0!==e.meta.code?(console.error(e.message||"请求出错"),Promise.reject(e)):e},t=>(t.response&&t.response.status,Promise.reject(t)));var p=u;function g(t){return p({url:"/api/pwa_config/getsetting",method:"get",params:t})}function h(t){return p({url:"/api/webpush/subscribe",method:"post",data:t})}function m(t){return p({url:"/api/login_device/generate",method:"post",data:t})}var f={data(){return{addressShow:!1,lodingShow:!1,downloadShow:!1,iosDownloadShow:!1,installPrompt:null,innerWidth:window.innerWidth,innerHeight:window.innerHeight,setting:{installation_address:"",header_img:"",banner_img:[],pwa_comment_img:""}}},mounted(){this.infoPage(),window.addEventListener("beforeinstallprompt",this.handleInstallPrompt),window.addEventListener("appinstalled",this.handleAppInstalled)},beforeDestroy(){window.removeEventListener("beforeinstallprompt",this.handleInstallPrompt),window.removeEventListener("appinstalled",this.handleAppInstalled)},methods:{infoPage(){g().then(t=>{0===t.meta.code&&(this.setting=t.data,this.toHome(),setTimeout(()=>{this.lodingShow=!0},1e3))}).catch(()=>{this.toHome(),setTimeout(()=>{this.lodingShow=!0},1e3)})},toHome(){const t=()=>{if(window.matchMedia("(display-mode: standalone)").matches)return!0;if(!0===window.navigator.standalone)return!0;const t=/HuaweiBrowser|HBBrowser/i,e=localStorage.getItem("outerHeight"),n=t.test(navigator.userAgent),i=window.outerHeight===window.innerHeight,o=void 0===window.navigator.standalone,s=e<window.outerHeight,a=[n,i,o,s].filter(Boolean).length;return a>=4};t()?(console.log("当前运行在 PWA 独立模式"),this.setting.installation_address&&this.openWeb()):console.log("当前运行在浏览器中")},async installApp(){if(this.installPrompt){this.installPrompt.prompt();const t=await this.installPrompt.userChoice;"accepted"===t.outcome?(console.log("用户接受了安装"),localStorage.setItem("outerHeight",window.outerHeight),this.openWeb()):console.log("用户拒绝了安装"),this.installPrompt=null}else this.openWeb()},openWeb(){this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight,this.addressShow=!0},dowload(){this.isIOS()?this.iosDownloadShow=!0:this.downloadShow=!0},isIOS(){const t=navigator.userAgent;return/iPad|iPhone|iPod/.test(t)&&!window.MSStream},handleInstallPrompt(t){t.preventDefault(),this.installPrompt=t},handleAppInstalled(){this.installPrompt=null}}},w=f,v=n(1656),b=(0,v.A)(w,a,r,!1,null,"4e9cc864",null),A=b.exports,S={name:"App",components:{mainPage:A}},y=S,C=(0,v.A)(y,o,s,!1,null,null,null),_=C.exports,O=n(4458);(0,O.k)("/sw.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});n(6573),n(8100),n(7936),n(9577),n(1549),n(9797),n(9631),n(5623),n(4979);function I(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/-/g,"+").replace(/_/g,"/"),i=atob(n),o=new Uint8Array(i.length);for(let s=0;s<i.length;++s)o[s]=i.charCodeAt(s);return o}var B=n(3510);async function j(){if("serviceWorker"in navigator&&"PushManager"in window){const e=await navigator.serviceWorker.ready,n="BA-1y_WvzeQmMrE3ZFxK0HHtOsROS05Xn9KPgZmeZ2tqE-bv9KXS9nTMy4PyXJXYe9hKRPuKguc2Qte98vp9I8E",i=I(n),o=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i});let s=localStorage.getItem("visitorId");if("null"!==s&&s){let t={subscription:o?o.toJSON():{},pixel_id:null,device_id:s};h(t).then(t=>{t.meta.code})}else try{const t=await B.Ay.load(),e=await t.get(),n={fingerprint:e.visitorId};m(n).then(t=>{if(0==t.meta.code){localStorage.setItem("visitorId",t.data.device_id);let e={subscription:o?o.toJSON():{},pixel_id:null,device_id:t.data.device_id};h(e).then(t=>{t.meta.code})}})}catch(t){}return o}}i.Ay.config.productionTip=!1,new i.Ay({render:t=>t(_),mounted(){j()}}).$mount("#app")},1463:function(t,e,n){t.exports=n.p+"img/share.dcd4f6dc.png"},2241:function(t,e,n){t.exports=n.p+"img/bottom.5b15e78a.png"},3481:function(t,e,n){t.exports=n.p+"img/btn.c9b08128.gif"},3759:function(t,e,n){t.exports=n.p+"img/downIcon.2e015b8f.png"},3829:function(t,e,n){t.exports=n.p+"img/iosDown.a5f34582.png"},6864:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAjCAYAAACD1LrRAAAAAXNSR0IArs4c6QAABA5JREFUWEftl1toXFUUhv//nLMzKWmiRh8iwZIK1frkgzEiRtomti8+WBApWOotMLdc2yBSUCiCtlKJmUmTmaSt+qaIhlIUUtG23h4UKwWhpV4IWtuqaLXGisnZZy89M0lMMjOZc6Z99Lzuf/3fOmsv9l6bCPult9Y5UvsmyY1+qAAXxeBxry9zOIwVw4gxFF2rjD0O4rbFcSIC7NYRswuxMTeIZzDwC0/UOtVVOwA+SaKmpDFxUiBdujv7STl4HrwLFq5JNEFkGsqpgrgrHLKBnrUalmkXcBOB68uZLVj/TAwmxDJfWsb+zoX8AXt6Cl6kForn0DnyJzHQUe846hDBe0MYVywV4JIQXVRDiVEIohU7VRAowM9U6cRxAOsqiK88RGB88DEA6yt3qShS/w+uqG5LgwT4W8jHPAsnHE9eIdC6RHP1Sy3Ab1qwEb2ZEz5MDSU7IHKgGPiqdbV/btPT7e72/SdzoOFkg/LkQwBrioFfB7DlSmsswHl6+v556GB0lbJs/6dWF9mKy1SpRAZEvAjYE5E9IC8BeIZAbankRHBOa92G/v1fzf7pTcqTD4pB/XUBfqSTiu0krecLs5L3dU/2vtw+DSbvFMtMEKwv0PlQW7ehaxaaiq1RtN4F0LRMFU/RTsUesGgdKjSUn7SYFvSNfZ9vklizGB4hF8LlW9eYtjkNBhO3OhaOE2hYbusEOMbcHSv26RLCSdfmOnSOnM2tD0XXOmIfJXAjgG9c47WHheY58jKxd1uNE6m5QLDUHk66xls/D9jXeYtjTFa7fBT9+YTUYOddQu9tkjcEa1JJ5u5jJ534mMA9JZsH8oO27HZ0DeebZ8Gn0vEWAScIXBcMmuuu5llw/EWC/WX25by29Ib5JvIT3he7G8Z6Jww0d8Do6sY8eDDZSks+KpexiFzQwg3oy5z5t0p+xx8msKJc3MJ1AcZ1T+bB/OgzGlXOjD1JQWM5EwGmCDkt4O0EIuX0S9cN+LDXM/La/LDnpBN7CDwV1iiMXoBfdcRbhdjYX/9NmS/Fm5SFMyCrwpiF0fonoe7N7vRjFo23djqZtSCxMGZBtSIypavNzYiN/VIAxkC80XF4ikBdUMOgOqE8rbuzz83pCwZ6lUrEQWSCGgbT8XMXdit6hqZLgv0FlU68AeChYKbLq0Twu4ZpQe/o1wuVxZ8w6e46JfooiDuuBC7ANMRs1r2jE0t9Sr+dBjrqlaOOAGyuBC6Cy0I+4vWMjBeLX/7RtndbjYqsPFjBhHIWnrfZ3T72RamkA70WVSoaFVi7F9/FpSzlVVe7/dhx8OJylQoEzhnkHndV/kWSKLwUZEaI9+jZz7p9w58G2Zrg4Dm39NY6Gys3UbgF5LUQHtHWzFvoPjAZBDin+Qfh25L92AJv9gAAAABJRU5ErkJggg=="},7597:function(t,e,n){t.exports=n.p+"img/google.1c55f34c.png"}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,i,o,s){if(!i){var a=1/0;for(d=0;d<t.length;d++){i=t[d][0],o=t[d][1],s=t[d][2];for(var r=!0,l=0;l<i.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every(function(t){return n.O[t](i[l])})?i.splice(l--,1):(r=!1,s<a&&(a=s));if(r){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[i,o,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p="/"}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,s,a=i[0],r=i[1],l=i[2],c=0;if(a.some(function(e){return 0!==t[e]})){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(l)var d=l(n)}for(e&&e(i);c<a.length;c++)s=a[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(d)},i=self["webpackChunkpwa_promotion_page"]=self["webpackChunkpwa_promotion_page"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],function(){return n(199)});i=n.O(i)})();
//# sourceMappingURL=app.702bbed8.js.map